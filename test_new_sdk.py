"""
ุงุฎุชุจุงุฑ SDK ุงูุฌุฏูุฏ ูู Gemini
"""

import asyncio
import sys
import os
from gemini_handler import GeminiHandler

async def test_new_sdk():
    """ุงุฎุชุจุงุฑ SDK ุงูุฌุฏูุฏ"""
    
    print("๐ ุงุฎุชุจุงุฑ SDK ุงูุฌุฏูุฏ ูู Gemini")
    print("=" * 50)
    
    try:
        # ุฅูุดุงุก ูุนุงูุฌ Gemini
        print("๐ก ุฅูุดุงุก ูุนุงูุฌ Gemini...")
        handler = GeminiHandler()
        
        # ุงุฎุชุจุงุฑ ุงูุงุชุตุงู
        print("๐ ุงุฎุชุจุงุฑ ุงูุงุชุตุงู...")
        if handler.test_connection():
            print("โ ุงูุงุชุตุงู ูุนูู!")
        else:
            print("โ ูุดู ุงูุงุชุตุงู!")
            return False
        
        # ุงุฎุชุจุงุฑ ุชูููุฏ ุงููุต
        print("\n๐ ุงุฎุชุจุงุฑ ุชูููุฏ ุงููุต...")
        response = await handler.generate_text("ูุฑุญุจุงูุ ููู ุญุงููุ")
        print(f"๐ค ุงูุณุคุงู: ูุฑุญุจุงูุ ููู ุญุงููุ")
        print(f"๐ฅ ุงูุฅุฌุงุจุฉ: {response}")
        
        # ุงุฎุชุจุงุฑ ุงููุญุงุฏุซุฉ
        print("\n๐ฌ ุงุฎุชุจุงุฑ ุงููุญุงุฏุซุฉ...")
        chat_response = await handler.chat_response("ุฃุฎุจุฑูู ููุชุฉ", "ุฃุญูุฏ")
        print(f"๐ค ุงูุณุคุงู: ุฃุฎุจุฑูู ููุชุฉ")
        print(f"๐ฅ ุงูุฅุฌุงุจุฉ: {chat_response}")
        
        # ุงุฎุชุจุงุฑ ุงูุชูุฎูุต
        print("\n๐ ุงุฎุชุจุงุฑ ุงูุชูุฎูุต...")
        text_to_summarize = """
        ุงูุฐูุงุก ุงูุงุตุทูุงุนู ูู ุชูููุฉ ุญุฏูุซุฉ ุชูุฏู ุฅูู ูุญุงูุงุฉ ุงูุฐูุงุก ุงูุจุดุฑู ูู ุงูุขูุงุช.
        ูุชุถูู ุงูุฐูุงุก ุงูุงุตุทูุงุนู ุนุฏุฉ ูุฌุงูุงุช ูุซู ุงูุชุนูู ุงูุขููุ ูุนุงูุฌุฉ ุงููุบุฉ ุงูุทุจูุนูุฉุ 
        ูุงูุฑุคูุฉ ุงูุญุงุณูุจูุฉ. ูุณุชุฎุฏู ูู ุชุทุจููุงุช ูุฎุชููุฉ ูุซู ุงูุณูุงุฑุงุช ุฐุงุชูุฉ ุงูููุงุฏุฉุ
        ุงููุณุงุนุฏูู ุงูุตูุชูููุ ูุงูุชุดุฎูุต ุงูุทุจู.
        """
        summary = await handler.summarize_text(text_to_summarize)
        print(f"๐ค ุงููุต ุงูุฃุตูู: {text_to_summarize[:100]}...")
        print(f"๐ฅ ุงูุชูุฎูุต: {summary}")
        
        print("\n๐ ุฌููุน ุงูุงุฎุชุจุงุฑุงุช ูุฌุญุช!")
        return True
        
    except Exception as e:
        print(f"โ ุฎุทุฃ ูู ุงูุงุฎุชุจุงุฑ: {e}")
        return False

if __name__ == "__main__":
    # ุชุดุบูู ุงูุงุฎุชุจุงุฑ
    success = asyncio.run(test_new_sdk())
    
    if success:
        print("\nโ SDK ุงูุฌุฏูุฏ ูุนูู ุจุดูู ููุชุงุฒ!")
        print("๐ ููููู ุงูุขู ุฑูุน ุงูุจูุช ุฅูู Railway")
    else:
        print("\nโ ููุงู ูุดููุฉ ูู SDK ุงูุฌุฏูุฏ")
        print("๐ง ุชุญูู ูู ุงูููุชุงุญ ูุฅุนุฏุงุฏุงุช ุงูุจูุฆุฉ")
